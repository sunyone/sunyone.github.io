
<!DOCTYPE HTML>
<html lang="zh-hans">
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>Linux&#x5757;&#x8BBE;&#x5907;UUID&#x63A2;&#x7A76; &#xB7; &#x5B66;&#x4E60;&#x4E2D;&#x5FC3;</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        <meta name="author" content="S1">
        
        
    
    <link rel="stylesheet" href="gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-tbfed-pagefooter/footer.css">
                
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-expandable-chapters/expandable-chapters.css">
                
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-splitter/splitter.css">
                
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-anchor-navigation-ex-toc/style/plugin.css">
                
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-prism/prism-tomorrow.css">
                
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="linux_tpcc.html">
    
    
    <link rel="prev" href="linux_res.html">
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="&#x8F93;&#x5165;&#x5E76;&#x641C;&#x7D22;">
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    
    
        
        <li>
            <a href="https://gitee.com/3017677" target="_blank" class="custom-link">&#x7801;&#x4E91;</a>
        </li>
    
    

    
    <li class="divider"></li>
    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="./">
            
                <a href="./">
            
                    
                    &#x4ECB;&#x7ECD;
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="chang_yong_url.html">
            
                <a href="chang_yong_url.html">
            
                    
                    &#x5E38;&#x7528;URL
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3">
            
                <span>
            
                    
                    ANSIBLE
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1" data-path="ansible/ab_readme.html">
            
                <a href="ansible/ab_readme.html">
            
                    
                    ansible
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2" data-path="ansible/ab_proxy.html">
            
                <a href="ansible/ab_proxy.html">
            
                    
                    ssh&#x8DF3;&#x8F6C;
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4">
            
                <span>
            
                    
                    work
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.1" data-path="work/cai_ji.html">
            
                <a href="work/cai_ji.html">
            
                    
                    &#x91C7;&#x96C6;
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5" data-path="git.html">
            
                <a href="git.html">
            
                    
                    git
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6">
            
                <span>
            
                    
                    gitbook&#x64CD;&#x4F5C;&#x6307;&#x5357;
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.6.1" data-path="gitbook_readme.html">
            
                <a href="gitbook_readme.html">
            
                    
                    &#x5E38;&#x7528;&#x64CD;&#x4F5C;
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.2" data-path="gitbook_plugins.html">
            
                <a href="gitbook_plugins.html">
            
                    
                    &#x63D2;&#x4EF6;
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.3" data-path="gitbook-convert.html">
            
                <a href="gitbook-convert.html">
            
                    
                    &#x6587;&#x6863;&#x8F6C;&#x6362;
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.7">
            
                <span>
            
                    
                    Linux
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.7.1" data-path="linux/linux_readme.html">
            
                <a href="linux/linux_readme.html">
            
                    
                    linux
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.2" data-path="linux_systemctl.html">
            
                <a href="linux_systemctl.html">
            
                    
                    systemctl
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.3" data-path="linux/ssh.html">
            
                <a href="linux/ssh.html">
            
                    
                    SSH
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.4" data-path="linux_hardware_cmd.html">
            
                <a href="linux_hardware_cmd.html">
            
                    
                    Linux&#x786C;&#x4EF6;&#x5E38;&#x7528;&#x547D;&#x4EE4;
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.5" data-path="linux_performance_cmd.html">
            
                <a href="linux_performance_cmd.html">
            
                    
                    Linux&#x6027;&#x80FD;&#x5E38;&#x7528;&#x547D;&#x4EE4;
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.6" data-path="linux_other_cmd.html">
            
                <a href="linux_other_cmd.html">
            
                    
                    Linux&#x5176;&#x5B83;&#x5E38;&#x7528;&#x547D;&#x4EE4;
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.7" data-path="linux_res.html">
            
                <a href="linux_res.html">
            
                    
                    Linux&#x8D44;&#x6E90;&#x6C47;&#x603B;
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="1.7.8" data-path="linux_uuid.html">
            
                <a href="linux_uuid.html">
            
                    
                    Linux&#x5757;&#x8BBE;&#x5907;UUID&#x63A2;&#x7A76;
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.9" data-path="linux_tpcc.html">
            
                <a href="linux_tpcc.html">
            
                    
                    &#x670D;&#x52A1;&#x5668;&#x5904;&#x7406;&#x80FD;&#x529B;&#xFF0C;&#x4F60;&#x4F30;&#x7B97;&#x6B63;&#x786E;&#x8FC7;&#x5417;&#xFF1F;
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.8">
            
                <span>
            
                    
                    shell
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.8.1" data-path="shell_script/get_ip.html">
            
                <a href="shell_script/get_ip.html">
            
                    
                    &#x83B7;&#x53D6;&#x4E3B;&#x673A;&#x540D;&#x3001;IP&#x3001;&#x767B;&#x5F55;&#x7528;&#x6237;
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.2" data-path="shell_script/base.html">
            
                <a href="shell_script/base.html">
            
                    
                    &#x57FA;&#x672C;&#x8BED;&#x6CD5;
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.9">
            
                <span>
            
                    
                    Windows
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.9.1" data-path="windows/win_readme.html">
            
                <a href="windows/win_readme.html">
            
                    
                    Windows&#x5E38;&#x7528;
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.10">
            
                <span>
            
                    
                    python
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.10.1" data-path="python/python_readme.html">
            
                <a href="python/python_readme.html">
            
                    
                    python
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.2" data-path="python/python_template.html">
            
                <a href="python/python_template.html">
            
                    
                    python&#x6A21;&#x677F;
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.3" data-path="python/python_argparse.html">
            
                <a href="python/python_argparse.html">
            
                    
                    python&#x547D;&#x4EE4;&#x884C;&#x53C2;&#x6570;&#x89E3;&#x6790;
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.4" data-path="python/python_zhengze.html">
            
                <a href="python/python_zhengze.html">
            
                    
                    python&#x6B63;&#x5219;
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.5" data-path="python/han_shu_shi.html">
            
                <a href="python/han_shu_shi.html">
            
                    
                    &#x51FD;&#x6570;&#x5F0F;&#x7F16;&#x7A0B;
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.6" data-path="python/python_logging.html">
            
                <a href="python/python_logging.html">
            
                    
                    &#x5185;&#x90E8;&#x6A21;&#x5757;logging
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.7" data-path="python/import_bs4.html">
            
                <a href="python/import_bs4.html">
            
                    
                    BeautifulSoup
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.8" data-path="python/leaning_log.html">
            
                <a href="python/leaning_log.html">
            
                    
                    &#x9879;&#x76EE;1leaning_log
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.10.8.1" data-path="python/leaning_log_user.html">
            
                <a href="python/leaning_log_user.html">
            
                    
                    &#x521B;&#x5EFA;&#x7528;&#x6237;&#x8D26;&#x53F7;
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.11">
            
                <span>
            
                    
                    Zabbix
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.11.1" data-path="zabbix/zbx_readme.html">
            
                <a href="zabbix/zbx_readme.html">
            
                    
                    zabbix
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11.2" data-path="zabbix/zbx_agt_conf.html">
            
                <a href="zabbix/zbx_agt_conf.html">
            
                    
                    agent&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x8BF4;&#x660E;
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11.3" data-path="zabbix/zbx_autoreg.html">
            
                <a href="zabbix/zbx_autoreg.html">
            
                    
                    &#x81EA;&#x52A8;&#x6CE8;&#x518C;
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11.4" data-path="zabbix/zabbix_kpi.html">
            
                <a href="zabbix/zabbix_kpi.html">
            
                    
                    &#x76D1;&#x63A7;&#x6307;&#x6807;
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11.5" data-path="zabbix/get_data_from_mysql.html">
            
                <a href="zabbix/get_data_from_mysql.html">
            
                    
                    &#x4ECE;&#x6570;&#x636E;&#x5E93;&#x4E2D;&#x83B7;&#x53D6;&#x76D1;&#x63A7;&#x6570;&#x636E;
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11.6" data-path="zabbix/zabbix_disk_UserParameter.html">
            
                <a href="zabbix/zabbix_disk_UserParameter.html">
            
                    
                    &#x76D1;&#x63A7;&#x78C1;&#x76D8;
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11.7" data-path="zabbix/zabbix_zk_UserParameter.html">
            
                <a href="zabbix/zabbix_zk_UserParameter.html">
            
                    
                    &#x76D1;&#x63A7;zookeeper
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11.8" data-path="zabbix/zabbix_redis_UserParameter.html">
            
                <a href="zabbix/zabbix_redis_UserParameter.html">
            
                    
                    &#x76D1;&#x63A7;redis
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11.9" data-path="zabbix/zabbix_kafka_UserParameter.html">
            
                <a href="zabbix/zabbix_kafka_UserParameter.html">
            
                    
                    &#x76D1;&#x63A7;kafka
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11.10" data-path="zabbix/zabbix_storm_UserParameter.html">
            
                <a href="zabbix/zabbix_storm_UserParameter.html">
            
                    
                    &#x76D1;&#x63A7;storm
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11.11" data-path="zabbix/zabbix_sparkstreaming_UserParameter.html">
            
                <a href="zabbix/zabbix_sparkstreaming_UserParameter.html">
            
                    
                    &#x76D1;&#x63A7;spark streaming
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.12">
            
                <span>
            
                    
                    &#x6570;&#x636E;&#x5E93;
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.12.1" data-path="database/oracle.html">
            
                <a href="database/oracle.html">
            
                    
                    ORACLE
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.13">
            
                <span>
            
                    
                    Hadoop
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.13.1" data-path="hadoop/hdfs.html">
            
                <a href="hadoop/hdfs.html">
            
                    
                    HDFS
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13.2" data-path="hadoop/yarn.html">
            
                <a href="hadoop/yarn.html">
            
                    
                    Yarn
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.14" data-path="kafka/kafka_readme.html">
            
                <a href="kafka/kafka_readme.html">
            
                    
                    Kafka
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.15">
            
                <span>
            
                    
                    &#x5176;&#x5B83;&#x5E38;&#x7528;
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.15.1" data-path="grafana_readme.html">
            
                <a href="grafana_readme.html">
            
                    
                    grafana
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.15.2" data-path="sublime_readme.html">
            
                <a href="sublime_readme.html">
            
                    
                    sublime
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.15.3" data-path="markdown_readme.html">
            
                <a href="markdown_readme.html">
            
                    
                    markdown
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.16">
            
                <span>
            
                    
                    &#x62DB;&#x8058;
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.16.1" data-path="zhaopin/ruan_jian_ce_shi_mian_shi.html">
            
                <a href="zhaopin/ruan_jian_ce_shi_mian_shi.html">
            
                    
                    &#x8F6F;&#x4EF6;&#x6D4B;&#x8BD5;&#x9762;&#x8BD5;&#x9898;
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.17">
            
                <span>
            
                    
                    M
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.17.1" data-path="manager/ri_chang.html">
            
                <a href="manager/ri_chang.html">
            
                    
                    &#x65E5;&#x5E38;
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.17.2" data-path="manager/ren_zhi_jue_se_hjfz.html">
            
                <a href="manager/ren_zhi_jue_se_hjfz.html">
            
                    
                    &#x9EC4;&#x91D1;&#x6CD5;&#x5219;
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            &#x672C;&#x4E66;&#x4F7F;&#x7528; GitBook &#x53D1;&#x5E03;
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href=".">Linux&#x5757;&#x8BBE;&#x5907;UUID&#x63A2;&#x7A76;</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <div id="anchor-navigation-ex-navbar"><i class="fa fa-anchor"></i><ul><li><span class="title-icon "></span><a href="#&#x6D4B;&#x8BD5;uuid&#x4E0E;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#x7684;&#x5173;&#x7CFB;"><b>1. </b>&#x6D4B;&#x8BD5;UUID&#x4E0E;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#x7684;&#x5173;&#x7CFB;</a></li><li><span class="title-icon "></span><a href="#&#x8C01;&#x521B;&#x5EFA;&#x4E86;&#x78C1;&#x76D8;&#x7684;uuid&#x6587;&#x4EF6;"><b>2. </b>&#x8C01;&#x521B;&#x5EFA;&#x4E86;&#x78C1;&#x76D8;&#x7684;UUID&#x6587;&#x4EF6;</a></li><li><span class="title-icon "></span><a href="#udev&#x662F;&#x5982;&#x4F55;&#x83B7;&#x53D6;&#x78C1;&#x76D8;&#x7684;uuid&#x7684;"><b>3. </b>UDev&#x662F;&#x5982;&#x4F55;&#x83B7;&#x53D6;&#x78C1;&#x76D8;&#x7684;UUID&#x7684;</a></li><li><span class="title-icon "></span><a href="#ext&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#x4E2D;&#x7684;uuid"><b>4. </b>EXT&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#x4E2D;&#x7684;UUID</a></li><li><span class="title-icon "></span><a href="#fat&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#x4E2D;&#x7684;uuid"><b>5. </b>FAT&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#x4E2D;&#x7684;UUID</a></li><li><span class="title-icon "></span><a href="#&#x603B;&#x7ED3;"><b>6. </b>&#x603B;&#x7ED3;</a></li></ul></div><a href="#&#x6D4B;&#x8BD5;uuid&#x4E0E;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#x7684;&#x5173;&#x7CFB;" id="anchorNavigationExGoTop"><i class="fa fa-arrow-up"></i></a><h2 id="linux&#x5757;&#x8BBE;&#x5907;uuid&#x63A2;&#x7A76;"><a name="linux&#x5757;&#x8BBE;&#x5907;uuid&#x63A2;&#x7A76;" class="anchor-navigation-ex-anchor" href="#linux&#x5757;&#x8BBE;&#x5907;uuid&#x63A2;&#x7A76;"><i class="fa fa-link" aria-hidden="true"></i></a><div align="center">Linux&#x5757;&#x8BBE;&#x5907;UUID&#x63A2;&#x7A76;</div></h2>
<p>&#x8F6C;&#x8F7D;&#xFF1A;<a href="https://my.oschina.net/LastRitter/blog/1936259" target="_blank">https://my.oschina.net/LastRitter/blog/1936259</a></p>
<p>&#x4E4B;&#x524D;&#x5728;&#x4F7F;&#x7528;mount&#x547D;&#x4EE4;&#x548C;&#x914D;&#x7F6E;fstab&#x65F6;&#xFF0C;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;LABEL&#x548C;UUID&#x6765;&#x6302;&#x8F7D;&#x3002;&#x4ECE;&#x4E4B;&#x524D;&#x7684;&#x7ECF;&#x9A8C;&#x770B;&#xFF0C;&#x53EA;&#x6709;GPT&#x5206;&#x533A;&#x624D;&#x6709;UUID&#xFF0C;&#x90A3;MBR&#x5206;&#x533A;&#x7684;UUID&#x662F;&#x4FDD;&#x5B58;&#x5728;&#x54EA;&#x91CC;&#x5462;&#xFF1F;&#x662F;&#x5728;&#x5206;&#x533A;&#x8868;&#xFF0C;&#x4FDD;&#x7559;&#x6247;&#x533A;&#xFF0C;&#x8FD8;&#x662F;&#x5728;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#x4E2D;&#xFF1F;&#x662F;&#x5982;&#x4F55;&#x5904;&#x7406;&#x7684;&#xFF1F;&#x4E3A;&#x4E86;&#x89E3;&#x51B3;&#x5FC3;&#x4E2D;&#x7684;&#x7591;&#x60D1;&#xFF0C;&#x8FDB;&#x884C;&#x5982;&#x4E0B;&#x5206;&#x6790;&#x3002;</p>
<h1 id="&#x6D4B;&#x8BD5;uuid&#x4E0E;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#x7684;&#x5173;&#x7CFB;"><a name="&#x6D4B;&#x8BD5;uuid&#x4E0E;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#x7684;&#x5173;&#x7CFB;" class="anchor-navigation-ex-anchor" href="#&#x6D4B;&#x8BD5;uuid&#x4E0E;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#x7684;&#x5173;&#x7CFB;"><i class="fa fa-link" aria-hidden="true"></i></a>1. &#x6D4B;&#x8BD5;UUID&#x4E0E;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#x7684;&#x5173;&#x7CFB;</h1>
<ul>
<li>&#x67E5;&#x770B;&#x5F53;&#x524D;&#x7CFB;&#x7EDF;&#x4E2D;&#x5757;&#x8BBE;&#x5907;&#x7684;UUID&#xFF0C;&#x6CA1;&#x6709;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#x65F6;&#x6CA1;&#x6709;UUID&#xFF1A;</li>
</ul>
<pre class="language-"><code>$ lsblk -f
NAME   FSTYPE LABEL UUID                                 MOUNTPOINT
sda
&#x251C;&#x2500;sda1 xfs          b2f2dcbb-03c4-472f-b79c-942895cec1a9 /
&#x251C;&#x2500;sda2 swap         2305f62c-86dd-4f32-9f32-c736957996c4 [SWAP]
&#x2514;&#x2500;sda3
sr0

$ blkid
/dev/sda1: UUID=&quot;b2f2dcbb-03c4-472f-b79c-942895cec1a9&quot; TYPE=&quot;xfs&quot;
/dev/sda2: UUID=&quot;2305f62c-86dd-4f32-9f32-c736957996c4&quot; TYPE=&quot;swap&quot;
</code></pre><ul>
<li>&#x683C;&#x5F0F;&#x5316;&#x6210;vfat&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#x540E;&#xFF0C;&#x67E5;&#x770B;&#x5176;UUID&#xFF0C;&#x53D1;&#x73B0;&#x53EA;&#x6709;8&#x4F4D;&#xFF1A;</li>
</ul>
<pre class="language-"><code>$ mkfs.vfat /dev/sda3
mkfs.fat 3.0.20 (12 Jun 2013)

$ lsblk -f
NAME   FSTYPE LABEL UUID                                 MOUNTPOINT
sda
&#x251C;&#x2500;sda1 xfs          b2f2dcbb-03c4-472f-b79c-942895cec1a9 /
&#x251C;&#x2500;sda2 swap         2305f62c-86dd-4f32-9f32-c736957996c4 [SWAP]
&#x2514;&#x2500;sda3 vfat         72DD-DA7A
sr0
</code></pre><ul>
<li>&#x683C;&#x5F0F;&#x5316;&#x6210;xfs&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#xFF0C;&#x67E5;&#x770B;&#x5176;UUID&#xFF0C;&#x662F;&#x6B63;&#x5E38;&#x7684;32&#x4F4D;&#xFF1A;</li>
</ul>
<pre class="language-"><code>$ mkfs.xfs -f /dev/sda3
meta-data=/dev/sda3              isize=512    agcount=4, agsize=1310720 blks
         =                       sectsz=512   attr=2, projid32bit=1
         =                       crc=1        finobt=0, sparse=0
data     =                       bsize=4096   blocks=5242880, imaxpct=25
         =                       sunit=0      swidth=0 blks
naming   =version 2              bsize=4096   ascii-ci=0 ftype=1
log      =internal log           bsize=4096   blocks=2560, version=2
         =                       sectsz=512   sunit=0 blks, lazy-count=1
realtime =none                   extsz=4096   blocks=0, rtextents=0

$ lsblk -f
NAME   FSTYPE LABEL UUID                                 MOUNTPOINT
sda
&#x251C;&#x2500;sda1 xfs          b2f2dcbb-03c4-472f-b79c-942895cec1a9 /
&#x251C;&#x2500;sda2 swap         2305f62c-86dd-4f32-9f32-c736957996c4 [SWAP]
&#x2514;&#x2500;sda3 xfs          cda5c46b-2a4b-47f5-99dd-2083cc5433b4
sr0
</code></pre><ul>
<li>&#x5728;&#x4E00;&#x6B21;&#x683C;&#x5F0F;&#x5316;&#x6210;xfs&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#xFF0C;&#x53D1;&#x73B0;UUID&#x53D1;&#x751F;&#x4E86;&#x53D8;&#x5316;&#x5462;&#xFF1A;</li>
</ul>
<pre class="language-"><code>$ mkfs.xfs -f /dev/sda3
meta-data=/dev/sda3              isize=512    agcount=4, agsize=1310720 blks
         =                       sectsz=512   attr=2, projid32bit=1
         =                       crc=1        finobt=0, sparse=0
data     =                       bsize=4096   blocks=5242880, imaxpct=25
         =                       sunit=0      swidth=0 blks
naming   =version 2              bsize=4096   ascii-ci=0 ftype=1
log      =internal log           bsize=4096   blocks=2560, version=2
         =                       sectsz=512   sunit=0 blks, lazy-count=1
realtime =none                   extsz=4096   blocks=0, rtextents=0

$ lsblk -f
NAME   FSTYPE LABEL UUID                                 MOUNTPOINT
sda
&#x251C;&#x2500;sda1 xfs          b2f2dcbb-03c4-472f-b79c-942895cec1a9 /
&#x251C;&#x2500;sda2 swap         2305f62c-86dd-4f32-9f32-c736957996c4 [SWAP]
&#x2514;&#x2500;sda3 xfs          2c0872d1-9646-440f-ae6e-c32c49f35ff2
sr0
</code></pre><p>&#x53EF;&#x4EE5;&#x770B;&#x5230;&#x6CA1;&#x6709;&#x683C;&#x5F0F;&#x5316;&#x7684;&#x5757;&#x8BBE;&#x5907;&#x6CA1;&#x6709;UUID&#xFF0C;&#x540C;&#x65F6;UUID&#x4E0E;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#x7C7B;&#x578B;&#x6709;&#x5173;&#x3002;&#x6BCF;&#x683C;&#x5F0F;&#x5316;&#x4E00;&#x6B21;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#xFF0C;UUID&#x90FD;&#x4F1A;&#x53D1;&#x751F;&#x53D8;&#x5316;&#xFF0C;&#x521D;&#x6B65;&#x53EF;&#x4EE5;&#x63A8;&#x6D4B;UUID&#x662F;&#x5B58;&#x653E;&#x5728;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#x4E2D;&#x3002;</p>
<h1 id="&#x8C01;&#x521B;&#x5EFA;&#x4E86;&#x78C1;&#x76D8;&#x7684;uuid&#x6587;&#x4EF6;"><a name="&#x8C01;&#x521B;&#x5EFA;&#x4E86;&#x78C1;&#x76D8;&#x7684;uuid&#x6587;&#x4EF6;" class="anchor-navigation-ex-anchor" href="#&#x8C01;&#x521B;&#x5EFA;&#x4E86;&#x78C1;&#x76D8;&#x7684;uuid&#x6587;&#x4EF6;"><i class="fa fa-link" aria-hidden="true"></i></a>2. &#x8C01;&#x521B;&#x5EFA;&#x4E86;&#x78C1;&#x76D8;&#x7684;UUID&#x6587;&#x4EF6;</h1>
<p>&#x5728;/dev/disk/by-uuid&#x76EE;&#x5F55;&#x4E0B;&#xFF0C;&#x4F1A;&#x6839;&#x636E;&#x78C1;&#x76D8;&#x7684;UUID&#x5EFA;&#x7ACB;&#x5F88;&#x591A;&#x5757;&#x8BBE;&#x5907;&#x6587;&#x4EF6;&#x7684;&#x7B26;&#x53F7;&#x94FE;&#x63A5;&#xFF1F;&#x8FD9;&#x662F;&#x8C01;&#x5E72;&#x7684;&#x5462;&#xFF1F;&#x6839;&#x636E;&#x5E38;&#x8BC6;&#xFF0C;CentOS 7&#x5E94;&#x8BE5;&#x662F;&#x4F7F;&#x7528;&#x7684;Systemd&#x63D0;&#x4F9B;&#x7684;UDev&#x5B9E;&#x73B0;&#x7684;&#xFF0C;&#x4E0D;&#x8FC7;&#x6211;&#x4EEC;&#x8FD8;&#x662F;&#x6765;&#x7EC6;&#x81F4;&#x5206;&#x6790;&#x4E00;&#x4E0B;&#x3002;</p>
<ul>
<li>&#x5F00;&#x542F;&#x7CFB;&#x7EDF;&#x4E2D;&#x7684;&#x5BA1;&#x8BA1;&#x529F;&#x80FD;&#xFF1A;</li>
</ul>
<pre class="language-"><code>$ auditctl -D
$ auditctl -l
No rules

$ auditctl -w /dev/disk/by-uuid -p war

$ auditctl -l
-w /dev/disk/by-uuid -p rwa
</code></pre><ul>
<li>&#x518D;&#x6B21;&#x683C;&#x5F0F;&#x5316;&#x4E00;&#x4E2A;&#x5757;&#x8BBE;&#x5907;&#xFF1A;</li>
</ul>
<pre class="language-"><code>$ mkfs.xfs -f /dev/sda3
meta-data=/dev/sda3              isize=512    agcount=4, agsize=1310720 blks
         =                       sectsz=512   attr=2, projid32bit=1
         =                       crc=1        finobt=0, sparse=0
data     =                       bsize=4096   blocks=5242880, imaxpct=25
         =                       sunit=0      swidth=0 blks
naming   =version 2              bsize=4096   ascii-ci=0 ftype=1
log      =internal log           bsize=4096   blocks=2560, version=2
         =                       sectsz=512   sunit=0 blks, lazy-count=1
realtime =none

$ lsblk -f
NAME   FSTYPE LABEL UUID                                 MOUNTPOINT
sda
&#x251C;&#x2500;sda1 xfs          b2f2dcbb-03c4-472f-b79c-942895cec1a9 /
&#x251C;&#x2500;sda2 swap         2305f62c-86dd-4f32-9f32-c736957996c4 [SWAP]
&#x2514;&#x2500;sda3 xfs          8b980779-48e3-4012-b0d0-e08a939965ec
sr0
</code></pre><ul>
<li>&#x67E5;&#x770B;&#x5BA1;&#x8BA1;&#x65E5;&#x5FD7;&#xFF0C;&#x53EF;&#x4EE5;&#x770B;&#x5230;&#x7684;&#x786E;&#x662F;UDev&#x5E72;&#x7684;&#x597D;&#x4E8B;&#xFF1A;</li>
</ul>
<pre class="language-"><code>$ ausearch -f /dev/disk/by-uuid
...

----
time-&gt;Thu Aug 16 15:44:42 2018
type=PROCTITLE msg=audit(1534405482.539:3076): proctitle=&quot;/usr/lib/systemd/systemd-udevd&quot;
type=PATH msg=audit(1534405482.539:3076): item=2 name=&quot;/dev/disk/by-uuid/8b980779-48e3-4012-b0d0-e08a939965ec&quot; inode=5240274 dev=00:05 mode=0120777 ouid=0 ogid=0 rdev=00:00 objtype=CREATE
type=PATH msg=audit(1534405482.539:3076): item=1 name=&quot;/dev/disk/by-uuid/&quot; inode=10434 dev=00:05 mode=040755 ouid=0 ogid=0 rdev=00:00 objtype=PARENT
type=PATH msg=audit(1534405482.539:3076): item=0 name=&quot;../../sda3&quot; objtype=UNKNOWN
type=CWD msg=audit(1534405482.539:3076):  cwd=&quot;/&quot;
type=SYSCALL msg=audit(1534405482.539:3076): arch=c000003e syscall=88 success=yes exit=0 a0=7ffd033e8070 a1=563cfdee2140 a2=0 a3=ffffffff items=3 ppid=412 pid=1207 auid=4294967295 uid=0 gid=0 euid=0 suid=0 fsuid=0 egid=0 sgid=0 fsgid=0 tty=(none) ses=4294967295 comm=&quot;systemd-udevd&quot; exe=&quot;/usr/lib/systemd/systemd-udevd&quot; key=(null)

...
</code></pre><ul>
<li>&#x67E5;&#x770B;&#x4E00;&#x4E0B;UDev&#x7684;&#x5B58;&#x50A8;&#x8BBE;&#x5907;&#x89C4;&#x5219;&#xFF0C;&#x53EF;&#x4EE5;&#x770B;&#x5230;&#x5757;&#x8BBE;&#x5907;&#x6587;&#x4EF6;&#x7684;UUID&#x662F;&#x6839;&#x636E;UDev&#x7684;$env{ID_FS_UUID_ENC}&#x73AF;&#x5883;&#x53D8;&#x91CF;&#x800C;&#x6765;&#xFF1A;</li>
</ul>
<pre class="language-"><code>$ cat /usr/lib/udev/rules.d/60-persistent-storage.rules
...

# by-label/by-uuid links (filesystem metadata)
ENV{ID_FS_USAGE}==&quot;filesystem|other|crypto&quot;, ENV{ID_FS_UUID_ENC}==&quot;?*&quot;, SYMLINK+=&quot;disk/by-uuid/$env{ID_FS_UUID_ENC}&quot;
ENV{ID_FS_USAGE}==&quot;filesystem|other&quot;, ENV{ID_FS_LABEL_ENC}==&quot;?*&quot;, SYMLINK+=&quot;disk/by-label/$env{ID_FS_LABEL_ENC}&quot;

# by-id (World Wide Name)
ENV{DEVTYPE}==&quot;disk&quot;, ENV{ID_WWN_WITH_EXTENSION}==&quot;?*&quot;, SYMLINK+=&quot;disk/by-id/wwn-$env{ID_WWN_WITH_EXTENSION}&quot;
ENV{DEVTYPE}==&quot;partition&quot;, ENV{ID_WWN_WITH_EXTENSION}==&quot;?*&quot;, SYMLINK+=&quot;disk/by-id/wwn-$env{ID_WWN_WITH_EXTENSION}-part%n&quot;

# by-partlabel/by-partuuid links (partition metadata)
ENV{ID_PART_ENTRY_SCHEME}==&quot;gpt&quot;, ENV{ID_PART_ENTRY_UUID}==&quot;?*&quot;, SYMLINK+=&quot;disk/by-partuuid/$env{ID_PART_ENTRY_UUID}&quot;
ENV{ID_PART_ENTRY_SCHEME}==&quot;gpt&quot;, ENV{ID_PART_ENTRY_NAME}==&quot;?*&quot;, SYMLINK+=&quot;disk/by-partlabel/$env{ID_PART_ENTRY_NAME}&quot;

# add symlink to GPT root disk
ENV{ID_PART_ENTRY_SCHEME}==&quot;gpt&quot;, ENV{ID_PART_GPT_AUTO_ROOT}==&quot;1&quot;, SYMLINK+=&quot;gpt-auto-root&quot;

...
</code></pre><h1 id="udev&#x662F;&#x5982;&#x4F55;&#x83B7;&#x53D6;&#x78C1;&#x76D8;&#x7684;uuid&#x7684;"><a name="udev&#x662F;&#x5982;&#x4F55;&#x83B7;&#x53D6;&#x78C1;&#x76D8;&#x7684;uuid&#x7684;" class="anchor-navigation-ex-anchor" href="#udev&#x662F;&#x5982;&#x4F55;&#x83B7;&#x53D6;&#x78C1;&#x76D8;&#x7684;uuid&#x7684;"><i class="fa fa-link" aria-hidden="true"></i></a>3. UDev&#x662F;&#x5982;&#x4F55;&#x83B7;&#x53D6;&#x78C1;&#x76D8;&#x7684;UUID&#x7684;</h1>
<ul>
<li>&#x67E5;&#x770B;&#x4E00;&#x4E0B;&#x5757;&#x8BBE;&#x5907;&#x7684;UDev&#x73AF;&#x5883;&#x53D8;&#x91CF;&#xFF1A;</li>
</ul>
<pre class="language-"><code>$ udevadm info -n /dev/sda3
P: /devices/pci0000:00/0000:00:10.0/host0/target0:0:0/0:0:0:0/block/sda/sda3
N: sda3
S: disk/by-path/pci-0000:00:10.0-scsi-0:0:0:0-part3
S: disk/by-uuid/8b980779-48e3-4012-b0d0-e08a939965ec
E: DEVLINKS=/dev/disk/by-path/pci-0000:00:10.0-scsi-0:0:0:0-part3 /dev/disk/by-uuid/8b980779-48e3-4012-b0d0-e08a939965ec
E: DEVNAME=/dev/sda3
E: DEVPATH=/devices/pci0000:00/0000:00:10.0/host0/target0:0:0/0:0:0:0/block/sda/sda3
E: DEVTYPE=partition
E: ID_BUS=scsi
E: ID_FS_TYPE=xfs
E: ID_FS_USAGE=filesystem
E: ID_FS_UUID=8b980779-48e3-4012-b0d0-e08a939965ec
E: ID_FS_UUID_ENC=8b980779-48e3-4012-b0d0-e08a939965ec
E: ID_MODEL=VMware_Virtual_S
E: ID_MODEL_ENC=VMware Virtual S
E: ID_PART_ENTRY_DISK=8:0
E: ID_PART_ENTRY_NUMBER=3
E: ID_PART_ENTRY_OFFSET=117440512
E: ID_PART_ENTRY_SCHEME=dos
E: ID_PART_ENTRY_SIZE=41943040
E: ID_PART_ENTRY_TYPE=0x83
E: ID_PART_TABLE_TYPE=dos
E: ID_PATH=pci-0000:00:10.0-scsi-0:0:0:0
E: ID_PATH_TAG=pci-0000_00_10_0-scsi-0_0_0_0
E: ID_REVISION=1.0
E: ID_SCSI=1
E: ID_TYPE=disk
E: ID_VENDOR=VMware_
E: ID_VENDOR_ENC=VMware,
E: MAJOR=8
E: MINOR=3
E: SUBSYSTEM=block
E: TAGS=:systemd:
E: USEC_INITIALIZED=376987010725
</code></pre><ul>
<li>&#x67E5;&#x770B;&#x5728;&#x6267;&#x884C;&#x683C;&#x5F0F;&#x5316;&#x65F6;&#x7684;UEvent&#x4E8B;&#x4EF6;&#xFF0C;&#x7684;&#x786E;&#x548C;&#x524D;&#x9762;&#x770B;&#x5230;&#x7684;&#x662F;&#x5339;&#x914D;&#x7684;&#xFF1A;</li>
</ul>
<pre class="language-"><code>$ mkfs.xfs -f /dev/sda3
meta-data=/dev/sda3              isize=512    agcount=4, agsize=1310720 blks
         =                       sectsz=512   attr=2, projid32bit=1
         =                       crc=1        finobt=0, sparse=0
data     =                       bsize=4096   blocks=5242880, imaxpct=25
         =                       sunit=0      swidth=0 blks
naming   =version 2              bsize=4096   ascii-ci=0 ftype=1
log      =internal log           bsize=4096   blocks=2560, version=2
         =                       sectsz=512   sunit=0 blks, lazy-count=1
realtime =none                   extsz=4096   blocks=0, rtextents=0


$ lsblk -f
NAME   FSTYPE LABEL UUID                                 MOUNTPOINT
sda
&#x251C;&#x2500;sda1 xfs          b2f2dcbb-03c4-472f-b79c-942895cec1a9 /
&#x251C;&#x2500;sda2 swap         2305f62c-86dd-4f32-9f32-c736957996c4 [SWAP]
&#x2514;&#x2500;sda3 xfs          be01f436-56ea-4198-8ed1-9646b2860fc5
sr0



$ udevadm monitor -kup
monitor will print the received events for:
UDEV - the event which udev sends out after rule processing
KERNEL - the kernel uevent

KERNEL[394211.609898] change   /devices/pci0000:00/0000:00:10.0/host0/target0:0:0/0:0:0:0/block/sda/sda3 (block)
ACTION=change
DEVNAME=/dev/sda3
DEVPATH=/devices/pci0000:00/0000:00:10.0/host0/target0:0:0/0:0:0:0/block/sda/sda3
DEVTYPE=partition
MAJOR=8
MINOR=3
SEQNUM=4892
SUBSYSTEM=block

UDEV  [394211.622459] change   /devices/pci0000:00/0000:00:10.0/host0/target0:0:0/0:0:0:0/block/sda/sda3 (block)
ACTION=change
DEVLINKS=/dev/disk/by-path/pci-0000:00:10.0-scsi-0:0:0:0-part3 /dev/disk/by-uuid/be01f436-56ea-4198-8ed1-9646b2860fc5
DEVNAME=/dev/sda3
DEVPATH=/devices/pci0000:00/0000:00:10.0/host0/target0:0:0/0:0:0:0/block/sda/sda3
DEVTYPE=partition
ID_BUS=scsi
ID_FS_TYPE=xfs
ID_FS_USAGE=filesystem
ID_FS_UUID=be01f436-56ea-4198-8ed1-9646b2860fc5
ID_FS_UUID_ENC=be01f436-56ea-4198-8ed1-9646b2860fc5
ID_MODEL=VMware_Virtual_S
ID_MODEL_ENC=VMware Virtual S
ID_PART_ENTRY_DISK=8:0
ID_PART_ENTRY_NUMBER=3
ID_PART_ENTRY_OFFSET=117440512
ID_PART_ENTRY_SCHEME=dos
ID_PART_ENTRY_SIZE=41943040
ID_PART_ENTRY_TYPE=0x83
ID_PART_TABLE_TYPE=dos
ID_PATH=pci-0000:00:10.0-scsi-0:0:0:0
ID_PATH_TAG=pci-0000_00_10_0-scsi-0_0_0_0
ID_REVISION=1.0
ID_SCSI=1
ID_TYPE=disk
ID_VENDOR=VMware_
ID_VENDOR_ENC=VMware,
MAJOR=8
MINOR=3
SEQNUM=4892
SUBSYSTEM=block
TAGS=:systemd:
USEC_INITIALIZED=6987010725
</code></pre><ul>
<li>&#x518D;&#x770B;&#x770B;UDev&#x7684;&#x6E90;&#x7801;&#xFF0C;&#x53EF;&#x4EE5;&#x770B;&#x5230;ID_FS_UUID_ENC&#x73AF;&#x5883;&#x53D8;&#x91CF;&#x662F;&#x6839;&#x636E;&#x5757;&#x8BBE;&#x5907;UEvent&#x4E8B;&#x4EF6;&#x4E2D;&#x7684;UUID&#x53D8;&#x91CF;&#x503C;&#x83B7;&#x5F97;&#x7684;&#xFF1A;</li>
</ul>
<pre class="language-"><code class="lang-c">$ cat src<span class="token operator">/</span>udev<span class="token operator">/</span>udev<span class="token operator">-</span>builtin<span class="token operator">-</span>blkid<span class="token punctuation">.</span>c
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>

<span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">print_property</span><span class="token punctuation">(</span><span class="token keyword">struct</span> udev_device <span class="token operator">*</span>dev<span class="token punctuation">,</span> bool test<span class="token punctuation">,</span> <span class="token keyword">const</span> <span class="token keyword">char</span> <span class="token operator">*</span>name<span class="token punctuation">,</span> <span class="token keyword">const</span> <span class="token keyword">char</span> <span class="token operator">*</span>value<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">char</span> s<span class="token punctuation">[</span><span class="token number">256</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

        s<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">&apos;&apos;</span><span class="token punctuation">;</span>

        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">streq</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> <span class="token string">&quot;TYPE&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token function">udev_builtin_add_property</span><span class="token punctuation">(</span>dev<span class="token punctuation">,</span> test<span class="token punctuation">,</span> <span class="token string">&quot;ID_FS_TYPE&quot;</span><span class="token punctuation">,</span> value<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">streq</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> <span class="token string">&quot;USAGE&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token function">udev_builtin_add_property</span><span class="token punctuation">(</span>dev<span class="token punctuation">,</span> test<span class="token punctuation">,</span> <span class="token string">&quot;ID_FS_USAGE&quot;</span><span class="token punctuation">,</span> value<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">streq</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> <span class="token string">&quot;VERSION&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token function">udev_builtin_add_property</span><span class="token punctuation">(</span>dev<span class="token punctuation">,</span> test<span class="token punctuation">,</span> <span class="token string">&quot;ID_FS_VERSION&quot;</span><span class="token punctuation">,</span> value<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">streq</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> <span class="token string">&quot;UUID&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token function">blkid_safe_string</span><span class="token punctuation">(</span>value<span class="token punctuation">,</span> s<span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token function">udev_builtin_add_property</span><span class="token punctuation">(</span>dev<span class="token punctuation">,</span> test<span class="token punctuation">,</span> <span class="token string">&quot;ID_FS_UUID&quot;</span><span class="token punctuation">,</span> s<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token function">blkid_encode_string</span><span class="token punctuation">(</span>value<span class="token punctuation">,</span> s<span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token function">udev_builtin_add_property</span><span class="token punctuation">(</span>dev<span class="token punctuation">,</span> test<span class="token punctuation">,</span> <span class="token string">&quot;ID_FS_UUID_ENC&quot;</span><span class="token punctuation">,</span> s<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">streq</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> <span class="token string">&quot;UUID_SUB&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token function">blkid_safe_string</span><span class="token punctuation">(</span>value<span class="token punctuation">,</span> s<span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token function">udev_builtin_add_property</span><span class="token punctuation">(</span>dev<span class="token punctuation">,</span> test<span class="token punctuation">,</span> <span class="token string">&quot;ID_FS_UUID_SUB&quot;</span><span class="token punctuation">,</span> s<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token function">blkid_encode_string</span><span class="token punctuation">(</span>value<span class="token punctuation">,</span> s<span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token function">udev_builtin_add_property</span><span class="token punctuation">(</span>dev<span class="token punctuation">,</span> test<span class="token punctuation">,</span> <span class="token string">&quot;ID_FS_UUID_SUB_ENC&quot;</span><span class="token punctuation">,</span> s<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">streq</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> <span class="token string">&quot;LABEL&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token function">blkid_safe_string</span><span class="token punctuation">(</span>value<span class="token punctuation">,</span> s<span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token function">udev_builtin_add_property</span><span class="token punctuation">(</span>dev<span class="token punctuation">,</span> test<span class="token punctuation">,</span> <span class="token string">&quot;ID_FS_LABEL&quot;</span><span class="token punctuation">,</span> s<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token function">blkid_encode_string</span><span class="token punctuation">(</span>value<span class="token punctuation">,</span> s<span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token function">udev_builtin_add_property</span><span class="token punctuation">(</span>dev<span class="token punctuation">,</span> test<span class="token punctuation">,</span> <span class="token string">&quot;ID_FS_LABEL_ENC&quot;</span><span class="token punctuation">,</span> s<span class="token punctuation">)</span><span class="token punctuation">;</span>


<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token punctuation">}</span>

<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
</code></pre>
<h1 id="ext&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#x4E2D;&#x7684;uuid"><a name="ext&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#x4E2D;&#x7684;uuid" class="anchor-navigation-ex-anchor" href="#ext&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#x4E2D;&#x7684;uuid"><i class="fa fa-link" aria-hidden="true"></i></a>4. EXT&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#x4E2D;&#x7684;UUID</h1>
<p>EXT&#x7CFB;&#x5217;&#x7684;EXT2&#x3001;EXT3&#x548C;EXT4&#x7684;&#x8D85;&#x7EA7;&#x5757;&#x7B49;&#x4E3B;&#x8981;&#x683C;&#x5F0F;&#x5DEE;&#x4E0D;&#x591A;&#xFF0C;&#x5728;&#x8FD9;&#x91CC;&#x4E0D;&#x505A;&#x533A;&#x5206;&#x3002;</p>
<ul>
<li>&#x628A;&#x5757;&#x8BBE;&#x5907;&#x683C;&#x5F0F;&#x5316;&#x6210;ext3&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#xFF1A;</li>
</ul>
<pre class="language-"><code>$ mkfs.ext3 /dev/sda3
mke2fs 1.42.9 (28-Dec-2013)
&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#x6807;&#x7B7E;=
OS type: Linux
&#x5757;&#x5927;&#x5C0F;=4096 (log=2)
&#x5206;&#x5757;&#x5927;&#x5C0F;=4096 (log=2)
Stride=0 blocks, Stripe width=0 blocks
1310720 inodes, 5242880 blocks
262144 blocks (5.00%) reserved for the super user
&#x7B2C;&#x4E00;&#x4E2A;&#x6570;&#x636E;&#x5757;=0
Maximum filesystem blocks=4294967296
160 block groups
32768 blocks per group, 32768 fragments per group
8192 inodes per group
Superblock backups stored on blocks:
    32768, 98304, 163840, 229376, 294912, 819200, 884736, 1605632, 2654208,
    4096000

Allocating group tables: &#x5B8C;&#x6210;
&#x6B63;&#x5728;&#x5199;&#x5165;inode&#x8868;: &#x5B8C;&#x6210;
Creating journal (32768 blocks): &#x5B8C;&#x6210;
Writing superblocks and filesystem accounting information: &#x5B8C;&#x6210;


$ lsblk -f
NAME   FSTYPE LABEL UUID                                 MOUNTPOINT
sda
&#x251C;&#x2500;sda1 xfs          b2f2dcbb-03c4-472f-b79c-942895cec1a9 /
&#x251C;&#x2500;sda2 swap         2305f62c-86dd-4f32-9f32-c736957996c4 [SWAP]
&#x2514;&#x2500;sda3 ext3         00dfb75c-f5e9-4907-8a4c-34858f2d98db
sr0
</code></pre><ul>
<li>&#x770B;&#x4E00;&#x4E0B;&#x5757;&#x8BBE;&#x5907;&#x7684;ext3&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#x4FE1;&#x606F;&#xFF0C;&#x5176;&#x4E2D;&#x6709;Filesystem UUID&#x4E00;&#x9879;&#x548C;&#x5757;&#x8BBE;&#x5907;&#x7684;UUID&#x4E00;&#x81F4;&#xFF1A;</li>
</ul>
<pre class="language-"><code>$ dumpe2fs /dev/sda3
dumpe2fs 1.42.9 (28-Dec-2013)
Filesystem volume name:   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>none</span><span class="token punctuation">&gt;</span></span>
Last mounted on:          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>not</span> <span class="token attr-name">available</span><span class="token punctuation">&gt;</span></span>
Filesystem UUID:          00dfb75c-f5e9-4907-8a4c-34858f2d98db
Filesystem magic number:  0xEF53
Filesystem revision #:    1 (dynamic)
Filesystem features:      has_journal ext_attr resize_inode dir_index filetype sparse_super large_file
Filesystem flags:         signed_directory_hash
Default mount options:    user_xattr acl
Filesystem state:         clean
Errors behavior:          Continue
Filesystem OS type:       Linux
Inode count:              1310720
Block count:              5242880
Reserved block count:     262144
Free blocks:              5116558
Free inodes:              1310709
First block:              0
Block size:               4096
Fragment size:            4096
Reserved GDT blocks:      1022
Blocks per group:         32768
Fragments per group:      32768
Inodes per group:         8192
Inode blocks per group:   512
Filesystem created:       Thu Aug 16 16:35:55 2018
Last mount time:          n/a
Last write time:          Thu Aug 16 16:35:57 2018
Mount count:              0
Maximum mount count:      -1
Last checked:             Thu Aug 16 16:35:55 2018
Check interval:           0 (<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>none</span><span class="token punctuation">&gt;</span></span>)
Reserved blocks uid:      0 (user root)
Reserved blocks gid:      0 (group root)
First inode:              11
Inode size:           256
Required extra isize:     28
Desired extra isize:      28
Journal inode:            8
Default directory hash:   half_md4
Directory Hash Seed:      0d887782-32e2-454b-b6b5-54260a188439
Journal backup:           inode blocks
Journal features:         (none)
&#x65E5;&#x5FD7;&#x5927;&#x5C0F;:             128M
Journal length:           32768
Journal sequence:         0x00000001
Journal start:            0
</code></pre><p>&#x5728;&#x5185;&#x6838;ext2&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#x6E90;&#x7801;&#x7684;&#x8D85;&#x7EA7;&#x5757;&#x5B9A;&#x4E49;&#x4E2D;&#x53EF;&#x4EE5;&#x770B;&#x5230;s_uuid&#x8FD9;&#x4E2A;&#x6210;&#x5458;&#xFF08;&#x5176;&#x5B9E;&#x8FD8;&#x6709;&#x4E2A;label&#x6210;&#x5458;&#xFF09;&#xFF0C;&#x5C31;&#x662F;&#x4FDD;&#x5B58;UUID&#x7684;&#x4F4D;&#x7F6E;&#xFF0C;&#x6709;16&#x5B57;&#x8282;&#xFF0C;&#x521A;&#x597D;32&#x4E2A;16&#x8FDB;&#x5236;&#x6570;&#xFF1A;</p>
<pre class="language-"><code class="lang-c">$ vi fs<span class="token operator">/</span>ext2<span class="token operator">/</span>ext2<span class="token punctuation">.</span>h
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>

<span class="token comment">/*
 * Structure of the super block
 */</span>
<span class="token keyword">struct</span> ext2_super_block <span class="token punctuation">{</span>
    __le32  s_inodes_count<span class="token punctuation">;</span>     <span class="token comment">/* Inodes count */</span>
    __le32  s_blocks_count<span class="token punctuation">;</span>     <span class="token comment">/* Blocks count */</span>
    __le32  s_r_blocks_count<span class="token punctuation">;</span>   <span class="token comment">/* Reserved blocks count */</span>

<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>

    __u8    s_uuid<span class="token punctuation">[</span><span class="token number">16</span><span class="token punctuation">]</span><span class="token punctuation">;</span>     <span class="token comment">/* 128-bit uuid for volume */</span>

<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
</code></pre>
<h1 id="fat&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#x4E2D;&#x7684;uuid"><a name="fat&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#x4E2D;&#x7684;uuid" class="anchor-navigation-ex-anchor" href="#fat&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#x4E2D;&#x7684;uuid"><i class="fa fa-link" aria-hidden="true"></i></a>5. FAT&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#x4E2D;&#x7684;UUID</h1>
<ul>
<li>&#x518D;&#x770B;&#x770B;FAT&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#x7684;&#x6570;&#x636E;&#xFF0C;&#x8FD9;&#x4E2A;UUID&#x9996;&#x6B21;&#x51FA;&#x73B0;&#x5728;&#x7B2C;67&#x5B57;&#x8282;&#x7684;&#x4F4D;&#x7F6E;&#xFF1A;</li>
</ul>
<pre class="language-"><code>$ lsblk -f
NAME   FSTYPE LABEL UUID                                 MOUNTPOINT
sda
&#x251C;&#x2500;sda1 xfs          b2f2dcbb-03c4-472f-b79c-942895cec1a9 /
&#x251C;&#x2500;sda2 swap         2305f62c-86dd-4f32-9f32-c736957996c4 [SWAP]
&#x2514;&#x2500;sda3 vfat         2E9C-E424
sr0

$ hexdump -C /dev/sda3 -n 5120 | grep -i &quot;24 E4 9C 2e&quot;
00000040  00 00 29 24 e4 9c 2e 4e  4f 20 4e 41 4d 45 20 20  |..)$...NO NAME  |
00000c40  00 00 29 24 e4 9c 2e 4e  4f 20 4e 41 4d 45 20 20  |..)$...NO NAME  |
</code></pre><p>&#x67E5;&#x770B;mkdosfs&#x5DE5;&#x5177;&#x4E2D;fat32&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#x7684;&#x7ED3;&#x6784;&#x5B9A;&#x4E49;&#xFF0C;&#x53EF;&#x4EE5;&#x53D1;&#x73B0;&#xFF0C;&#x5982;&#x679C;&#x4F7F;&#x7528;&#x7684;&#x662F;fat32&#xFF0C;&#x5219;&#x6B63;&#x597D;&#x662F;&#x4F7F;&#x7528;&#x504F;&#x79FB;&#x4E3A;67&#x5B57;&#x8282;&#x5904;&#x7684;volume_id&#xFF0C;&#x800C;&#x4E14;&#x53EA;&#x6709;4&#x5B57;&#x8282;&#xFF0C;&#x9876;&#x591A;&#x5B58;&#x653E;8&#x4F4D;&#x7684;UUID&#xFF1A;</p>
<pre class="language-"><code class="lang-c">$ vi dosfstools<span class="token operator">-</span><span class="token number">3.0</span><span class="token number">.20</span><span class="token operator">/</span>src<span class="token operator">/</span>mkfs<span class="token punctuation">.</span>fat<span class="token punctuation">.</span>c

<span class="token comment">/* __attribute__ ((packed)) is used on all structures to make gcc ignore any
 * alignments */</span>

<span class="token keyword">struct</span> msdos_volume_info <span class="token punctuation">{</span>
    __u8 drive_number<span class="token punctuation">;</span>      <span class="token comment">/* BIOS drive number */</span>
    __u8 RESERVED<span class="token punctuation">;</span>      <span class="token comment">/* Unused */</span>
    __u8 ext_boot_sign<span class="token punctuation">;</span>     <span class="token comment">/* 0x29 if fields below exist (DOS 3.3+) */</span>
    __u8 volume_id<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">;</span>      <span class="token comment">/* Volume ID number */</span>
    __u8 volume_label<span class="token punctuation">[</span><span class="token number">11</span><span class="token punctuation">]</span><span class="token punctuation">;</span>  <span class="token comment">/* Volume label */</span>
    __u8 fs_type<span class="token punctuation">[</span><span class="token number">8</span><span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token comment">/* Typically FAT12 or FAT16 */</span>
<span class="token punctuation">}</span> __attribute__ <span class="token punctuation">(</span><span class="token punctuation">(</span>packed<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">struct</span> msdos_boot_sector <span class="token punctuation">{</span>
    __u8 boot_jump<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>      <span class="token comment">/* Boot strap short or near jump */</span>
    __u8 system_id<span class="token punctuation">[</span><span class="token number">8</span><span class="token punctuation">]</span><span class="token punctuation">;</span>      <span class="token comment">/* Name - can be used to special case
                   partition manager volumes */</span>
    __u8 sector_size<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token comment">/* bytes per logical sector */</span>
    __u8 cluster_size<span class="token punctuation">;</span>      <span class="token comment">/* sectors/cluster */</span>
    __u16 reserved<span class="token punctuation">;</span>     <span class="token comment">/* reserved sectors */</span>
    __u8 fats<span class="token punctuation">;</span>          <span class="token comment">/* number of FATs */</span>
    __u8 dir_entries<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token comment">/* root directory entries */</span>
    __u8 sectors<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token comment">/* number of sectors */</span>
    __u8 media<span class="token punctuation">;</span>         <span class="token comment">/* media code (unused) */</span>
    __u16 fat_length<span class="token punctuation">;</span>       <span class="token comment">/* sectors/FAT */</span>
    __u16 secs_track<span class="token punctuation">;</span>       <span class="token comment">/* sectors per track */</span>
    __u16 heads<span class="token punctuation">;</span>        <span class="token comment">/* number of heads */</span>
    __u32 hidden<span class="token punctuation">;</span>       <span class="token comment">/* hidden sectors (unused) */</span>
    __u32 total_sect<span class="token punctuation">;</span>       <span class="token comment">/* number of sectors (if sectors == 0) */</span>
    <span class="token keyword">union</span> <span class="token punctuation">{</span>
    <span class="token keyword">struct</span> <span class="token punctuation">{</span>
        <span class="token keyword">struct</span> msdos_volume_info vi<span class="token punctuation">;</span>
        __u8 boot_code<span class="token punctuation">[</span>BOOTCODE_SIZE<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> __attribute__ <span class="token punctuation">(</span><span class="token punctuation">(</span>packed<span class="token punctuation">)</span><span class="token punctuation">)</span> _oldfat<span class="token punctuation">;</span>
    <span class="token keyword">struct</span> <span class="token punctuation">{</span>
        __u32 fat32_length<span class="token punctuation">;</span> <span class="token comment">/* sectors/FAT */</span>
        __u16 flags<span class="token punctuation">;</span>    <span class="token comment">/* bit 8: fat mirroring, low 4: active fat */</span>
        __u8 version<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token comment">/* major, minor filesystem version */</span>
        __u32 root_cluster<span class="token punctuation">;</span> <span class="token comment">/* first cluster in root directory */</span>
        __u16 info_sector<span class="token punctuation">;</span>  <span class="token comment">/* filesystem info sector */</span>
        __u16 backup_boot<span class="token punctuation">;</span>  <span class="token comment">/* backup boot sector */</span>
        __u16 reserved2<span class="token punctuation">[</span><span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">/* Unused */</span>
        <span class="token keyword">struct</span> msdos_volume_info vi<span class="token punctuation">;</span>
        __u8 boot_code<span class="token punctuation">[</span>BOOTCODE_FAT32_SIZE<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> __attribute__ <span class="token punctuation">(</span><span class="token punctuation">(</span>packed<span class="token punctuation">)</span><span class="token punctuation">)</span> _fat32<span class="token punctuation">;</span>
    <span class="token punctuation">}</span> __attribute__ <span class="token punctuation">(</span><span class="token punctuation">(</span>packed<span class="token punctuation">)</span><span class="token punctuation">)</span> fstype<span class="token punctuation">;</span>
    __u16 boot_sign<span class="token punctuation">;</span>
<span class="token punctuation">}</span> __attribute__ <span class="token punctuation">(</span><span class="token punctuation">(</span>packed<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>


<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">int</span> argc<span class="token punctuation">,</span> <span class="token keyword">char</span> <span class="token operator">*</span><span class="token operator">*</span>argv<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>

    volume_id <span class="token operator">=</span> <span class="token punctuation">(</span>u_int32_t<span class="token punctuation">)</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>create_timeval<span class="token punctuation">.</span>tv_sec <span class="token operator">&lt;&lt;</span> <span class="token number">20</span><span class="token punctuation">)</span> <span class="token operator">|</span> create_timeval<span class="token punctuation">.</span>tv_usec<span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">/* Default volume ID = creation time, fudged for more uniqueness */</span>

<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
    <span class="token keyword">case</span> <span class="token string">&apos;i&apos;</span><span class="token punctuation">:</span>       <span class="token comment">/* i : specify volume ID */</span>
        volume_id <span class="token operator">=</span> <span class="token function">strtoul</span><span class="token punctuation">(</span>optarg<span class="token punctuation">,</span> <span class="token operator">&amp;</span>tmp<span class="token punctuation">,</span> <span class="token number">16</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">*</span>tmp<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">printf</span><span class="token punctuation">(</span>&quot;Volume ID must be a hexadecimal number
&quot;<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">usage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">break</span><span class="token punctuation">;</span>

<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token punctuation">}</span>

<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>

<span class="token comment">/* Create the filesystem data tables */</span>

<span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">setup_tables</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">unsigned</span> num_sectors<span class="token punctuation">;</span>
    <span class="token keyword">unsigned</span> cluster_count <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> fat_length<span class="token punctuation">;</span>
    <span class="token keyword">struct</span> tm <span class="token operator">*</span>ctime<span class="token punctuation">;</span>
    <span class="token keyword">struct</span> msdos_volume_info <span class="token operator">*</span>vi <span class="token operator">=</span>
    <span class="token punctuation">(</span>size_fat <span class="token operator">==</span> <span class="token number">32</span> <span class="token operator">?</span> <span class="token operator">&amp;</span>bs<span class="token punctuation">.</span>fat32<span class="token punctuation">.</span>vi <span class="token punctuation">:</span> <span class="token operator">&amp;</span>bs<span class="token punctuation">.</span>oldfat<span class="token punctuation">.</span>vi<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span>atari_format<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">/* On Atari, the first few bytes of the boot sector are assigned
     * differently: The jump code is only 2 bytes (and m68k machine code
     * :-), then 6 bytes filler (ignored), then 3 byte serial number. */</span>
    bs<span class="token punctuation">.</span>boot_jump<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">&apos;m&apos;</span><span class="token punctuation">;</span>
    <span class="token function">memcpy</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">char</span> <span class="token operator">*</span><span class="token punctuation">)</span>bs<span class="token punctuation">.</span>system_id<span class="token punctuation">,</span> <span class="token string">&quot;kdosf&quot;</span><span class="token punctuation">,</span> <span class="token function">strlen</span><span class="token punctuation">(</span><span class="token string">&quot;kdosf&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span>
    <span class="token function">memcpy</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">char</span> <span class="token operator">*</span><span class="token punctuation">)</span>bs<span class="token punctuation">.</span>system_id<span class="token punctuation">,</span> <span class="token string">&quot;mkfs.fat&quot;</span><span class="token punctuation">,</span> <span class="token function">strlen</span><span class="token punctuation">(</span><span class="token string">&quot;mkfs.fat&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>sectors_per_cluster<span class="token punctuation">)</span>
    bs<span class="token punctuation">.</span>cluster_size <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">char</span><span class="token punctuation">)</span>sectors_per_cluster<span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>size_fat <span class="token operator">==</span> <span class="token number">32</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">/* Under FAT32, the root dir is in a cluster chain, and this is
     * signalled by bs.dir_entries being 0. */</span>
    root_dir_entries <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span>atari_format<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    bs<span class="token punctuation">.</span>system_id<span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">unsigned</span> <span class="token keyword">char</span><span class="token punctuation">)</span><span class="token punctuation">(</span>volume_id <span class="token operator">&amp;</span> <span class="token number">0x000000ff</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    bs<span class="token punctuation">.</span>system_id<span class="token punctuation">[</span><span class="token number">6</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">unsigned</span> <span class="token keyword">char</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">(</span>volume_id <span class="token operator">&amp;</span> <span class="token number">0x0000ff00</span><span class="token punctuation">)</span> <span class="token operator">&gt;&gt;</span> <span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    bs<span class="token punctuation">.</span>system_id<span class="token punctuation">[</span><span class="token number">7</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">unsigned</span> <span class="token keyword">char</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">(</span>volume_id <span class="token operator">&amp;</span> <span class="token number">0x00ff0000</span><span class="token punctuation">)</span> <span class="token operator">&gt;&gt;</span> <span class="token number">16</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    vi<span class="token operator">-&gt;</span>volume_id<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">unsigned</span> <span class="token keyword">char</span><span class="token punctuation">)</span><span class="token punctuation">(</span>volume_id <span class="token operator">&amp;</span> <span class="token number">0x000000ff</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    vi<span class="token operator">-&gt;</span>volume_id<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">unsigned</span> <span class="token keyword">char</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">(</span>volume_id <span class="token operator">&amp;</span> <span class="token number">0x0000ff00</span><span class="token punctuation">)</span> <span class="token operator">&gt;&gt;</span> <span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    vi<span class="token operator">-&gt;</span>volume_id<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">unsigned</span> <span class="token keyword">char</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">(</span>volume_id <span class="token operator">&amp;</span> <span class="token number">0x00ff0000</span><span class="token punctuation">)</span> <span class="token operator">&gt;&gt;</span> <span class="token number">16</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    vi<span class="token operator">-&gt;</span>volume_id<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">unsigned</span> <span class="token keyword">char</span><span class="token punctuation">)</span><span class="token punctuation">(</span>volume_id <span class="token operator">&gt;&gt;</span> <span class="token number">24</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token punctuation">}</span>

<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
</code></pre>
<h1 id="&#x603B;&#x7ED3;"><a name="&#x603B;&#x7ED3;" class="anchor-navigation-ex-anchor" href="#&#x603B;&#x7ED3;"><i class="fa fa-link" aria-hidden="true"></i></a>6. &#x603B;&#x7ED3;</h1>
<ul>
<li>Linux&#x6839;&#x636E;&#x4E0D;&#x540C;&#x7C7B;&#x578B;&#x7684;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#xFF0C;&#x628A;UUID&#x6216;&#x8005;&#x5377;ID&#xFF08;&#x8FD8;&#x6709;LABEL&#xFF09;&#x4FDD;&#x5B58;&#x5728;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#x7684;&#x8D85;&#x7EA7;&#x5757;&#x4E2D;&#xFF1B;</li>
<li>&#x5728;&#x4E3A;&#x78C1;&#x76D8;&#x521B;&#x5EFA;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#x65F6;&#xFF0C;&#x901A;&#x8FC7;UDev&#x6D88;&#x606F;&#x4F20;&#x9012;&#x7ED9;&#x7528;&#x6237;&#x6001;&#x7684;UDev&#x5B88;&#x62A4;&#x8FDB;&#x7A0B;&#xFF1B;</li>
<li>&#x7528;&#x6237;&#x6001;&#x7684;UDev&#x5B88;&#x62A4;&#x8FDB;&#x7A0B;&#x6839;&#x636E;&#x5176;&#x4E2D;&#x7684;UUID&#x6D88;&#x606F;&#x751F;&#x6210;ID_FS_UUID_ENC&#x6216;&#x8005;ID_FS_UUID_ENC&#x53D8;&#x91CF;&#xFF1B;</li>
<li>&#x7528;&#x6237;&#x6001;&#x7684;UDev&#x5B88;&#x62A4;&#x8FDB;&#x7A0B;&#x6839;&#x636E;&#x76F8;&#x5E94;&#x7684;&#x89C4;&#x5219;&#x751F;&#x6210;/dev/disk/&#x76EE;&#x5F55;&#x4E0B;&#x7684;&#x8BBE;&#x5907;&#x6587;&#x4EF6;&#x7B26;&#x53F7;&#x94FE;&#x63A5;&#x3002; </li>
</ul>
<footer class="page-footer"><span class="copyright">Copyright &#xA9; &#x667A;&#x80FD;&#x7F51;&#x7BA1; 2014-2018 all right reserved&#xFF0C;powered by Gitbook</span><span class="footer-modification">&#x6700;&#x540E;&#x4FEE;&#x8BA2;&#x65F6;&#x95F4;&#xFF1A;
2018-09-02 22:14:22
</span></footer>
                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class="search-results-count"></span> results matching &quot;<span class="search-query"></span>&quot;</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching &quot;<span class="search-query"></span>&quot;</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="linux_res.html" class="navigation navigation-prev " aria-label="Previous page: Linux&#x8D44;&#x6E90;&#x6C47;&#x603B;">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="linux_tpcc.html" class="navigation navigation-next " aria-label="Next page: &#x670D;&#x52A1;&#x5668;&#x5904;&#x7406;&#x80FD;&#x529B;&#xFF0C;&#x4F60;&#x4F30;&#x7B97;&#x6B63;&#x786E;&#x8FC7;&#x5417;&#xFF1F;">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"LinuxUUID","level":"1.7.8","depth":2,"next":{"title":"","level":"1.7.9","depth":2,"path":"linux_tpcc.md","ref":"linux_tpcc.md","articles":[]},"previous":{"title":"Linux","level":"1.7.7","depth":2,"path":"linux_res.md","ref":"linux_res.md","articles":[]},"dir":"ltr"},"config":{"plugins":["tbfed-pagefooter","expandable-chapters","-sharing","sharing-plus","splitter","header","anchor-navigation-ex-toc","prism","-highlight","include-codeblock","livereload"],"root":"./docs","styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"pluginsConfig":{"tbfed-pagefooter":{"copyright":"Copyright &copy  2014-2018","modify_label":"","modify_format":"YYYY-MM-DD HH:mm:ss"},"prism":{"css":["prismjs/themes/prism-tomorrow.css"]},"livereload":{},"splitter":{},"search":{},"layout":{"headerPath":"layouts/header.html"},"sharing-plus":{"qq":false,"all":["facebook","google","twitter","instapaper","linkedin","pocket","stumbleupon"],"douban":false,"facebook":true,"weibo":false,"instapaper":false,"whatsapp":false,"hatenaBookmark":false,"twitter":true,"messenger":false,"line":false,"vk":false,"pocket":true,"google":false,"viber":false,"stumbleupon":false,"qzone":false,"linkedin":false},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"header":{},"anchor-navigation-ex-toc":{"associatedWithSummary":true,"float":{"level1Icon":"","level2Icon":"","level3Icon":"","showLevelIcon":false},"mode":"float","multipleH1":true,"pageTop":{"level1Icon":"","level2Icon":"","level3Icon":"","showLevelIcon":false},"printLog":false,"showLevel":true},"fontsettings":{"theme":"white","family":"sans","size":2},"anchor-navigation-ex":{"multipleH1":true,"showLevel":true,"float":{"showLevelIcon":false,"level1Icon":"fa fa-hand-o-right","level2Icon":"fa fa-hand-o-right","level3Icon":"fa fa-hand-o-right"}},"include-codeblock":{"check":false,"edit":false,"fixlang":false,"lang":"","template":"default","theme":"monokai","unindent":true},"sharing":{"qq":true,"all":[],"douban":false,"facebook":false,"weibo":false,"instapaper":false,"whatsapp":false,"hatenaBookmark":false,"twitter":false,"messenger":false,"line":false,"vk":false,"pocket":false,"google":false,"viber":false,"stumbleupon":false,"qzone":false,"linkedin":false},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false},"expandable-chapters":{}},"theme":"default","author":"S1","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"title":"","language":"zh-hans","links":{"sidebar":{"":"https://gitee.com/3017677"},"sharing":{"google":false,"facebook":false,"twitter":false,"all":false}},"gitbook":"*","description":""},"file":{"path":"linux_uuid.md","mtime":"2018-09-02T14:14:22.918Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2018-10-19T03:12:45.224Z"},"basePath":".","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="gitbook/gitbook.js"></script>
    <script src="gitbook/theme.js"></script>
    
        
        <script src="gitbook/gitbook-plugin-expandable-chapters/expandable-chapters.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-sharing-plus/buttons.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-splitter/splitter.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-livereload/plugin.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

